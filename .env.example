# 复制为 .env 并填写实际值：cp .env.example .env
# 本地运行时可加载，Docker/生产环境直接设置环境变量

# 必需：GitLab Token
GITLAB_TOKEN=glpat-xxxxxxxxxxxxxxxxxxxx

# 必需（Docker）：完整 opencode.json 单行 JSON，entrypoint 写入配置文件。支持 OpenAI/Anthropic/agione 等
# 示例（agione）：OPENCODE_CONFIG_CONTENT='{"$schema":"https://opencode.ai/config.json","provider":{"agione":{"npm":"@ai-sdk/openai-compatible","name":"agione","options":{"baseURL":"https://zh.agione.co/hyperone/xapi/api","apiKey":"ak-xxx"},"models":{"131249505071992832":{"name":"GLM-4"}}}}'
# 示例（OpenAI）：OPENCODE_CONFIG_CONTENT='{"$schema":"https://opencode.ai/config.json","model":"openai/gpt-4o","provider":{"openai":{"options":{"apiKey":"sk-xxx"}}}}'
OPENCODE_CONFIG_CONTENT=

# GitLab 地址（本地开发可用 http://localhost）
GITLAB_URL=http://gitlab.example.com

# 仓库缓存目录（config 默认 repos；Docker 内为 /app/repos）
REPO_WORKSPACE=repos

# opencode 命令、日志级别、模型（格式 provider/model）
OPENCODE_CMD=opencode
OPENCODE_LOG_LEVEL=WARN
# OPENCODE_MODEL=agione/131249505071992832   # 自定义 provider/model 时必填

# 服务监听（默认 0.0.0.0:5000）
HOST=0.0.0.0
PORT=5000

# 日志文件路径（空则仅控制台；Docker Compose 默认 /app/logs/app.log）
# LOG_FILE=logs/app.log

# 超时（秒）
REVIEW_TIMEOUT=600
API_TIMEOUT=10

# Docker 构建时：设为 false 则使用 npm 版 opencode（默认 true 使用 baseline）
# USE_OPENCODE_BASELINE=true
